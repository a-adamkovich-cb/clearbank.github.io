{"version":3,"sources":["webpack:///./node_modules/element-react/dist/npm/es6/src/select/Option.js"],"names":["Option","_Component","props","this","_this","call","state","index","visible","hitState","prototype","componentWillMount","parent","onOptionCreate","setState","options","indexOf","currentSelected","addOptionToValue","componentWillUnmount","onOptionDestroy","context","component","selected","multiple","value","currentLabel","label","itemSelected","Object","toString","Array","isArray","map","el","hoverItem","disabled","hoverIndex","selectOptionClick","onOptionClick","queryChange","query","parsedQuery","replace","RegExp","test","filteredOptionsCount","resetIndex","render","_state","createElement","show","style","className","onMouseEnter","bind","onClick","children","contextTypes","any"],"mappings":"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","file":"16-986431264c60bf103fdf.js","sourcesContent":["import \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport { Component, PropTypes, View } from '../../libs';\n\nvar Option = function (_Component) {\n  _inherits(Option, _Component);\n\n  function Option(props) {\n    _classCallCheck(this, Option);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      index: -1,\n      visible: true,\n      hitState: false\n    };\n    return _this;\n  }\n\n  Option.prototype.componentWillMount = function componentWillMount() {\n    this.parent().onOptionCreate(this);\n    this.setState({\n      index: this.parent().state.options.indexOf(this)\n    });\n\n    if (this.currentSelected() === true) {\n      this.parent().addOptionToValue(this, true);\n    }\n  };\n\n  Option.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.parent().onOptionDestroy(this);\n  };\n\n  Option.prototype.parent = function parent() {\n    return this.context.component;\n  };\n\n  Option.prototype.currentSelected = function currentSelected() {\n    return this.props.selected || (this.parent().props.multiple ? this.parent().state.value.indexOf(this.props.value) > -1 : this.parent().state.value === this.props.value);\n  };\n\n  Option.prototype.currentLabel = function currentLabel() {\n    return this.props.label || (typeof this.props.value === 'string' || typeof this.props.value === 'number' ? this.props.value : '');\n  };\n\n  Option.prototype.itemSelected = function itemSelected() {\n    if (Object.prototype.toString.call(this.parent().state.selected) === '[object Object]') {\n      return this === this.parent().state.selected;\n    } else if (Array.isArray(this.parent().state.selected)) {\n      return this.parent().state.selected.map(function (el) {\n        return el.props.value;\n      }).indexOf(this.props.value) > -1;\n    }\n\n    return false;\n  };\n\n  Option.prototype.hoverItem = function hoverItem() {\n    if (!this.props.disabled && !this.parent().props.disabled) {\n      this.parent().setState({\n        hoverIndex: this.parent().state.options.indexOf(this)\n      });\n    }\n  };\n\n  Option.prototype.selectOptionClick = function selectOptionClick() {\n    if (this.props.disabled !== true && this.parent().props.disabled !== true) {\n      this.parent().onOptionClick(this);\n    }\n  };\n\n  Option.prototype.queryChange = function queryChange(query) {\n    // query 里如果有正则中的特殊字符，需要先将这些字符转义\n    var parsedQuery = query.replace(/(\\^|\\(|\\)|\\[|\\]|\\$|\\*|\\+|\\.|\\?|\\\\|\\{|\\}|\\|)/g, '\\\\$1');\n    var visible = new RegExp(parsedQuery, 'i').test(this.currentLabel());\n\n    if (!visible) {\n      this.parent().setState({\n        filteredOptionsCount: this.parent().state.filteredOptionsCount - 1\n      });\n    }\n\n    this.setState({\n      visible: visible\n    });\n  };\n\n  Option.prototype.resetIndex = function resetIndex() {\n    this.setState({\n      index: this.parent().state.options.indexOf(this)\n    });\n  };\n\n  Option.prototype.render = function render() {\n    var _state = this.state,\n        visible = _state.visible,\n        index = _state.index;\n    return React.createElement(View, {\n      show: visible\n    }, React.createElement('li', {\n      style: this.style(),\n      className: this.className('el-select-dropdown__item', {\n        'selected': this.itemSelected(),\n        'is-disabled': this.props.disabled || this.parent().props.disabled,\n        'hover': this.parent().state.hoverIndex === index\n      }),\n      onMouseEnter: this.hoverItem.bind(this),\n      onClick: this.selectOptionClick.bind(this)\n    }, this.props.children || React.createElement('span', null, this.currentLabel())));\n  };\n\n  return Option;\n}(Component);\n\nexport default Option;\nOption.contextTypes = {\n  component: PropTypes.any\n};"],"sourceRoot":""}